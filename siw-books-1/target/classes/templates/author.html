<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/html">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" th:href="@{/css/style.css}">
    <link rel="stylesheet" as="style" onload="this.rel='stylesheet'" href="https://fonts.googleapis.com/css2?family=Faculty+Glyphic&display=swap"/>
    <link rel="stylesheet" as="style" onload="this.rel='stylesheet'" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap"/>
    <link rel="stylesheet" th:href="@{/css/bookStyle.css}">
    <link rel="stylesheet" th:href="@{/css/allBooksStyle.css}">
    <!--We display author's details only if it exists/not empty-->
    <title th:if="${author!=null}" th:text="${author.name}">Author Details</title>
</head>
<body style='font-family: "Inter", sans-serif;'>
    <header th:replace="~{fragments/header :: header}"></header>

    <div class="container author-page-container" th:if="${author != null}">
        <!-- Intestazione con il nome dell'autore -->
        <div class="book-header"> <!-- Riusiamo la classe per coerenza -->
            <h1 th:text="${author.name + ' ' + author.surname}">Author Name</h1>
        </div>

        <!-- Contenuto principale a due colonne -->
        <div class="book-main-content" style="margin-top: 2rem;"> <!-- Riusiamo la classe per coerenza -->
            <!-- Colonna sinistra: Foto -->
            <div class="book-cover"> <!-- Riusiamo la classe per coerenza -->
                <img th:if="${author.imageUrl != null}" th:src="${author.imageUrl}" alt="Author Photo" style="object-fit: cover; object-position: top;">
                <div th:unless="${author.imageUrl}" class="placeholder-image">
                    <i class="fas fa-user" style="font-size: 8rem;"></i>
                </div>
            </div>

            <!-- Colonna destra: Informazioni -->
            <div class="book-info"> <!-- Riusiamo la classe per coerenza -->
                <div class="average-rating-box"> <!-- Riusiamo la classe per un box informativo -->
                    <h3>Details</h3>
                    <p><strong>Nationality:</strong> <span th:text="${author.nationality}"></span></p>
                    <p><strong>Born:</strong> <span th:text="${#temporals.format(author.dateOfBirth, 'dd MMMM yyyy')}"></span></p>
                    <p th:if="${author.dateOfDeath != null}" style="margin-bottom: 0;"><strong>Died:</strong> <span th:text="${#temporals.format(author.dateOfDeath, 'dd MMMM yyyy')}"></span></p>
                </div>

                <div class="description">
                    <h3>Biography</h3>
                    <p th:text="${author.bio}"></p>
                </div>
            </div>
        </div>

        <!-- Sezione Libri -->
        <div class="reviews-section"> <!-- Riusiamo la classe per la separazione -->
            <h2>Books by this Author</h2>
            <div th:if="${!#lists.isEmpty(author.authorsOf)}" class="content-list-container">
                <div th:each="book: ${author.authorsOf}" class="content-list-item-wrapper">
                    <a class="content-list-item-link" th:href="@{'/book/details/' + ${book.id}}">
                        <div class="content-list-item">
                            <img class="content-thumbnail" th:src="${book.imageUrl}" alt="Book Cover">
                            <div class="content-details">
                                <span class="content-title-text" th:text="${book.title}">Book Title</span>
                                <span class="content-subtitle-text" th:text="'Published in ' + ${book.year}">Year</span>
                            </div>
                        </div>
                    </a>
                </div>
            </div>
            <div th:if="${#lists.isEmpty(author.authorsOf)}" class="placeholder-text">
                <p>No books found for this author.</p>
            </div>
        </div>
    </div>
</body>
</html>














<!--    <div class="flex book-content justify-center">-->
<!--        <div class="title" th:if="${author != null}">-->
<!--            <h1 th:text="${author.name + ' ' + author.surname}">Author Name</h1>-->
<!--        </div>-->
<!--        <div class="content-left">-->
<!--            <img class="author-image justify-start" th:if="${author != null and author.imageUrl != null}" th:src="${author.imageUrl}">-->
<!--            <div class="author-details-section">-->
<!--                <p><strong>Nationality:</strong> <span th:text="${author.nationality}"></span></p>-->
<!--                <p><strong>Born:</strong> <span th:text="${#temporals.format(author.dateOfBirth, 'dd MMMM yyyy')}"></span></p>-->
<!--                <p th:if="${author.dateOfDeath != null}"><strong>Died:</strong> <span th:text="${#temporals.format(author.dateOfDeath, 'dd MMMM yyyy')}"></span></p>-->
<!--            </div>-->
<!--            <div class="bio">-->
<!--                <h2>Biography</h2>-->
<!--                <p th:text="${author.bio}"></p>-->
<!--            </div>-->
<!--            <div th:if="${!#lists.isEmpty(author.authorsOf)}" class="content-list-container">-->
<!--                <div th:each="book: ${author.authorsOf}">-->
<!--                    <a class="content-list-item-link" th:href="@{'/book/details/' + ${book.id}}">-->
<!--                        <div class="content-list-item">-->
<!--                            <img class="content-thumbnail" th:src="${book.imageUrl}">-->
<!--                            <div class="content-details">-->
<!--                                <span class="content-title-text" th:if="${book.id != null}" th:text="${book.title}">Book Title</span>-->
<!--                            </div>-->
<!--                        </div>-->
<!--                    </a>-->
<!--                </div>-->
<!--            </div>-->
<!--        </div>-->
<!--    </div>-->
<!--</body>-->
<!--</html>-->